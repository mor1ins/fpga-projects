#=============================================================================
# Eval sim script generated by IPExpress/Clarity   11/11/2020    03:35:42 
# Lattice IP Core Simulation Script for Evaluation (VHDL)                  
# Copyright(c) 2015 Lattice Semiconductor Corporation. All rights reserved.   
#=============================================================================

# WARNING - Changes to this file should be performed by re-running IPexpress or
# modifying the .LPC file and regenerating the core. Other changes may lead to 
# inconsistent simulation and/or implementation results.                       

#-- Set Diamond SW installation directory -- 
#-- Modify this path for localization of "Diamond" 
set diamond_dir C:/lscc/diamond/3.5 

#-- Simulation work library creation -- 
cd "C:/Users/Eduard/Desktop/Dual_CSI-2_Camera_to_HDMI_Bridge_Demo/ECP5_Raw10toParallel/source/clarity/Gamma/gammaCorrector/gamma_eval/gammaCorrector/sim/aldec/timing"
     workspace create gamma_space
     design create gamma_design .
     design open gamma_design

#-- Lattice device library support -- 
cd "C:/Users/Eduard/Desktop/Dual_CSI-2_Camera_to_HDMI_Bridge_Demo/ECP5_Raw10toParallel/source/clarity/Gamma/gammaCorrector/gamma_eval/gammaCorrector/sim/aldec/timing"
set diamond_dir C:/lscc/diamond/3.5 
set sim_working_folder .

vlog +define+HALF_PERIOD=10 \
     +define+PERIOD=20 \
     +define+TIMING_SIM \
     +define+TOP_SIM \
     +define+NUM_PIXELS=2500 \
     ../../../src/params/gammaCorrector_params.v \
     ../../../../testbench/gamma_tb.v
vcom ../../../impl/synplify/gammaCorrector_top/gammaCorrector_top_gammaCorrector_top_vho.vho

#----- Start evaluation test -- 
#- Post-route sim only, enable PLL for timing sim 
#vsim -noglitch gamma_design.gamma_tb -t 1ps +access +r -sdfmax /gamma_tb/u1_gammaCorrector_top=../../../impl/synplify/gammaCorrector_top/gammaCorrector_top_gammaCorrector_top_vho.sdf +transport_int_delays +transport_path_delays
vsim -noglitch gamma_design.gamma_tb -t 1ps +access +r +transport_int_delays +transport_path_delays

#----- View the simulation results 
view structure 
#view signals 

add wave  /gamma_tb/rstn 
add wave  /gamma_tb/clk 
add wave  /gamma_tb/inpvalid 
add wave  -radix hexadecimal /gamma_tb/din0 
add wave  -radix hexadecimal /gamma_tb/din1 
add wave  -radix hexadecimal /gamma_tb/din2 
add wave  /gamma_tb/outvalid 
add wave  -radix hexadecimal /gamma_tb/dout0 
add wave  -radix hexadecimal /gamma_tb/dout1 
add wave  -radix hexadecimal /gamma_tb/dout2 
run -all 


